<br>
<h2 class="text-center mb-4">AVISO DE SAÍDA – NAVEGAÇÃO INTERIOR</h2>
<div class="card">
    <div class="card-body">
        <form class="row gx-3 gy-2 align-items-center" action="avisoSaida" method="POST">
            <input type="hidden" name="usuarioID" value="%= req.user._id %">
                <div class="input-group mb-3">
                    <label class="input-group-text" class="input-group-text">Despacho referente</label>
                        <select name="saidaDespacho" class="form-select">
                            {{#each despachos}}
                                <option value="{{_id}}">
                            {{NprocessoDespacho}}
                                </option>
                            {{/each}}
                        </select>
                </div>
                <div class="input-group mb-3">
                    <label class="input-group-text" class="input-group-text">N° Processo de Despacho</label>
                    <input name="saidaNprocesso" class="form-control" type="text" placeholder="Este campo será preenchido após verificação do despachante." disabled>
                </div>
                <div>
                    <h4 class="text-center">Dados da Partida</h4>
                    <div class="input-group mb-3">
                        <label class="input-group-text">Porto de Saída</label>
                        <select id="select1" name="saidaPortoSaida" class="form-select" onchange="outroPorto('campo1', 'select1')">
                            {{#each portos}}
                            <option value="{{_id}}">
                                {{portoNome}}
                            </option>
                            {{/each}}
                            <option id="outroPortoOption" value="Outros">Outros...</option>
                        </select>
                        <div id="campo1" hidden>
                            <label class="input-group-text">Adicione outro porto de Saída</label>
                            <input name="saidaOutroPortoSaida" class="form-control" type="text">
                        </div>
                        <label class="input-group-text">Data/Hora de Saída</label>
                        <input name="saidaDataHoraSaida" class="form-control" type="date">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text">Porto de Destino</label>
                        <select id="select2" name="saidaPortoDestino" class="form-select" onchange="outroPorto('campo2', 'select2')">
                            {{#each portos}}
                            <option value="{{_id}}">
                                {{portoNome}}
                            </option>
                            {{/each}}
                            <option id="outroPortoOption" value="Outros">Outros...</option>
                        </select>
                        <div id="campo2" hidden>
                            <label class="input-group-text">Adicione outro porto de Destino</label>
                            <input name="saidaOutroPortoDestino" class="form-control" type="text">
                        </div>
                        <script>
                        function outroPorto(campo, select) {
                            var outroPortoOption = document.getElementById(select);
                            var outroPortoDiv = document.getElementById(campo);

                            if (outroPortoOption.value == 'Outros') {
                            outroPortoDiv.hidden = false;
                            } else {
                            outroPortoDiv.hidden = true;
                            }
                        }
                        </script>
                        <label class="input-group-text">Data/Hora Estimada de Chegada</label>
                        <input name="saidaDataHoraChegada" class="form-control" type="date">
                    </div>

                            <div>
                <h4 class="text-center">Dados da Embarcação</h4>
                    <div class="input-group mb-3">
                        <label class="input-group-text">Nome da Embarcação</label>
                        <input name="saidaEmbarcacaoNome" class="form-control" type="text">
                        <label class="input-group-text">Tipo da Embarcação</label>
                        <select name="embarcacaoTipo" class="form-control" type="text">
                            <option value="empurrador">Empurrador</option>
                            <option value="barcaça">Barcaça</option>
                            <option value="rebocadorEmpurrador">Rebocador/Empurrador</option>
                            <option value="balsa">Balsa</option>
                            <option value="cargaGeral">Carga Geral</option>
                            <option value="draga">Draga</option>
                            <option value="lancha">Lancha</option>
                            <option value="embarcacaoPassageiros">Embarcação de Passageiros</option>
                        </select>
                    </div>
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text">Bandeira</label>
                <select name="embarcacaoBandeira" class="form-control" type="text">
                    <option value="Brasileiro">Brasileiro</option>
                    <option value="Paraguaio">Paraguaio</option>
                    <option value="Argentino">Argentino</option>
                    <option value="Uruguaio">Uruguaio</option>
                    <option value="Boliviano">Boliviano</option>
                </select>
                <label class="input-group-text">N° Inscrição na Autoridade Marítima do Brasil</label>
                <input name="embarcacaoNInscricaoautoridadeMB" class="form-control" type="text">
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text">Arqueação Bruta</label>
                <input name="embarcacaoArqueacaoBruta" class="form-control" type="text">
                <label class="input-group-text">Comprimento Total</label>
                <input name="embarcacaoComprimentoTotal" class="form-control" type="text">
                <label class="input-group-text">Tonelagem Porte Bruto</label>
                <input name="embarcacaoTonelagemPorteBruto" class="form-control" type="text">
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text">Certificado de Registro do Amador(CRA)</label>
                <input name="embarcacaoCertificadoRegistroAmador" class="form-control" type="text">
                <label class="input-group-text">Armador</label>
                <input name="embarcacaoArmador" class="form-control" type="text">
            </div>
                <div class="input-group mb-3">
                    <label class="input-group-text">N° do CRA</label>
                    <input name="embarcacaoNCRA" class="form-control" type="text">
                </div>
            <br>
            
                    <h4 class="text-center">Dados do Representante da Embarcação</h4>
                    <div class="input-group mb-3">
                        <label class="input-group-text">Nome</label>
                        <input name="saidaNomeRepresentanteEmbarcacao" class="form-control" type="text">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text">CPF/CNPJ</label>
                        <input name="saidaCPFCNPJRepresentanteEmbarcacao" class="form-control" type="text">
                        <label class="input-group-text">Telefone</label>
                        <input name="saidaTelefoneRepresentanteEmbarcacao" class="form-control" type="text">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text">Endereço</label>
                        <input name="saidaEnderecoRepresentanteEmbarcacao" class="form-control" type="text">
                        <label class="input-group-text">Email</label>
                        <input name="saidaEmailRepresentanteEmbarcacao" class="form-control" type="text">
                    </div>
                </div>
                <div>
                    <h4 class="text-center">Observações</h4>
                    <div class="input-group mb-3">
                        <input name="saidaObservacoes" class="form-control" type="text">
                    </div>
                </div>
                <div id="selecaoTripulantes">
                    <div class="container">
                        <h4 class="text-center">Lista Tripulantes</h4>
                        {{>_tripulantes}}
                    </div>
                </div>
                <br>
                <hr>
                <br>
                <div id="selecaoPassageiros">
                    <div class="container">
                        <h4 class="text-center">Lista de Passageiros</h4>
                        {{>_passageiros}}
                    </div>
                </div>
                <br>
                <hr>
                <br>
                <div id="selecaoComboio">
                    <div class="container">
                        <h4 class="text-center">Lista Comboio</h4>
                        {{>_comboios}}
                    </div>
                </div>

                <div class="mt-4">
                    <label class="input-group-text">Estou ciente de que responderei administrativa, 
                        civil e penalmente pelos 
                        eventuais dados incorretos constantes da presente declaração</label>
                </div>
                
                <br>
                <button type="submit" id="submitButton" class="btn btn-success" disabled>Validar</button>
        </form>
    </div>
</div>
